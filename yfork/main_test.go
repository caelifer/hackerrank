package main

import (
	"bytes"
	"testing"

	"github.com/kylelemons/godebug/diff"
)

var sample = `__________________________________________________________________________________________________
_________________1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1__________________
__________________1___1___1___1___1___1___1___1___1___1___1___1___1___1___1___1___________________
__________________1___1___1___1___1___1___1___1___1___1___1___1___1___1___1___1___________________
___________________1_1_____1_1_____1_1_____1_1_____1_1_____1_1_____1_1_____1_1____________________
____________________1_______1_______1_______1_______1_______1_______1_______1_____________________
____________________1_______1_______1_______1_______1_______1_______1_______1_____________________
____________________1_______1_______1_______1_______1_______1_______1_______1_____________________
_____________________1_____1_________1_____1_________1_____1_________1_____1______________________
______________________1___1___________1___1___________1___1___________1___1_______________________
_______________________1_1_____________1_1_____________1_1_____________1_1________________________
________________________1_______________1_______________1_______________1_________________________
________________________1_______________1_______________1_______________1_________________________
________________________1_______________1_______________1_______________1_________________________
________________________1_______________1_______________1_______________1_________________________
________________________1_______________1_______________1_______________1_________________________
_________________________1_____________1_________________1_____________1__________________________
__________________________1___________1___________________1___________1___________________________
___________________________1_________1_____________________1_________1____________________________
____________________________1_______1_______________________1_______1_____________________________
_____________________________1_____1_________________________1_____1______________________________
______________________________1___1___________________________1___1_______________________________
_______________________________1_1_____________________________1_1________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
________________________________1_______________________________1_________________________________
_________________________________1_____________________________1__________________________________
__________________________________1___________________________1___________________________________
___________________________________1_________________________1____________________________________
____________________________________1_______________________1_____________________________________
_____________________________________1_____________________1______________________________________
______________________________________1___________________1_______________________________________
_______________________________________1_________________1________________________________________
________________________________________1_______________1_________________________________________
_________________________________________1_____________1__________________________________________
__________________________________________1___________1___________________________________________
___________________________________________1_________1____________________________________________
____________________________________________1_______1_____________________________________________
_____________________________________________1_____1______________________________________________
______________________________________________1___1_______________________________________________
_______________________________________________1_1________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________
________________________________________________1_________________________________________________

`

func TestPicture(t *testing.T) {
	out := new(bytes.Buffer)
	err := run(out)

	if err != nil {
		t.Fatalf("unexpected error: %v", err)
	}

	if generated := out.String(); generated != sample {
		t.Fatalf("Generated picture did not match:\n%s\n", diff.Diff(sample, generated))
	}
}
